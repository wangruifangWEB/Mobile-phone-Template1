<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>经典案例</title>
  <script src="js/jquery.min.js"></script>
  <script src="js/common.js"></script>
  <link rel="stylesheet" href="css/style.min.css" />
  <link rel="stylesheet" href="css/classicCase.css">
  <link rel="stylesheet" href="css/swiper.min.css">
</head>

<body ontouchstart>
  <div class="wrapper">
    <!-- 头部导航 -->
    <header>
      <!-- 头部遮罩 -->
      <div class="header-mask">
        <div class="header-mask-lf">
          <img src="images/icon/logo.png" alt="" />
          <span>全时天地在线有限公司</span>
        </div>
        <img src="images/icon/menu.png" alt="" class="header-mask-rt" id="menu" />
      </div>

      <!-- 导航列表 -->
      <ul class="header-mask-list">
        <li>
          <a href="index.html"> 网站首页</a>
        </li>
        <li>
          <a href="aboutUs.html">关于我们</a>
        </li>
        <li>
          <a href="productCenter.html">产品中心</a>
        </li>
        <li>
          <a href="classicCase.html">经典案例</a>
        </li>
        <li>
          <a href="theNews.html">新闻资讯</a>
        </li>
        <li>
          <a href="contactUs.html">联系我们</a>
        </li>
      </ul>
    </header>
    <!-- 内容区 -->
    <section>
      <!-- 图片-->
      <div class="aboutUs-img">
        <img src="images/banner/cassicCase-img.png" alt="" />
      </div>

      <!-- 经典案例 -->
      <div class="classicCase cassicCase-pages">
        <div class="classicCase-header">
          <p class="title">CASSIC CASE</p>
          <div class="classicCase-bottom">
            <div>
              <p>- 经典案例 -</p>
              <em>简约文艺&生活</em>
            </div>
            <!-- <img src="images/classicCase2.png" alt="" /> -->
          </div>
          <p class="text">comfortable and fashion</p>
        </div>

        <!-- 产品列表 -->
        <div class="classicCasePages-list ">
          <div class="classicCasePages-item">
            <img src="images/list1.png" alt="" />
            <div>- 精品室内 -</div>
          </div>

          <div class="classicCasePages-item">
            <img src="images/list2.png" alt="" />
            <div>- 经典书架 -</div>
          </div>

          <div class="classicCasePages-item">
            <img src="images/cassic-1.png" alt="" />
            <div>- 简约客厅 -</div>
          </div>

          <div class="classicCasePages-item">
            <img src="images/list4.png" alt="" />
            <div>- 清新卧室 -</div>
          </div>

          <div class="classicCasePages-item">
            <img src="images/list5.png" alt="" />
            <div>- 经典书架 -</div>
          </div>

          <div class="classicCasePages-item">
            <img src="images/list6.png" alt="" />
            <div>- 清新卧室 -</div>
          </div>

          <div class="classicCasePages-item">
            <img src="images/list7.png" alt="" />
            <div>- 精品室内 -</div>
          </div>

          <div class="classicCasePages-item">
            <img src="images/list8.png" alt="" />
            <div>- 经典书架 -</div>
          </div>
        </div>
        <button class="more">下拉加载更多</button>

      </div>
    </section>
    <footer>
      <div class="footer-content">
        <div class="footer-one">
          <p>- 在线联系 -</p>
          <span>contact us</span>
        </div>
        <div class="footer-two">
          <p>新转化坚信</p>
          <p>为客户设计出省心省力省钱的房屋</p>
          <p>选择我们安全省心</p>
          <p>欢迎与我们合作</p>
        </div>

        <form action="">
          <input type="text" placeholder="* 姓名 :">
          <input type="text" placeholder="* 电话 :">
          <input type="text" placeholder="  邮箱 :">
          <input type="text" placeholder="  留言 :">
        </form>

        <p class="footer-tel">欢迎致电：010-52342345</p>

        <div class="footer-three">
          <p>版权所有：北京全时天地在线网络信息股份有限公司</p>
          <p>京ICP备09035321号</p>
          <p>京公网安备11010502030777号</p>
        </div>
      </div>
    </footer>
  </div>

  <!-- 遮罩轮播 -->
  <div class="mask-swiper">
    <div class="mask-content">
      <img src="images/icon/close.png" alt="" class="closeBtn">
      <!-- 轮播图 -->
      <div class="swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <div class="swiper-bg">
              <img src="images/list1.png" alt="" />
              <!-- <span>- 欧式沙发 -</span> -->
            </div>
          </div>
          <div class="swiper-slide">
            <div class="swiper-bg">
              <img src="images/list2.png" alt="" />
              <!-- <span>- 真皮沙发 -</span> -->
            </div>
          </div>
          <div class="swiper-slide">
            <div class="swiper-bg">
              <img src="images/cassic-1.png" alt="" />
              <!-- <span>- 纺布沙发 -</span> -->
            </div>
          </div>

          <div class="swiper-slide">
            <div class="swiper-bg">
              <img src="images/list4.png" alt="" />
              <!-- <span>- 暖色沙发 -</span> -->
            </div>
          </div>

          <div class="swiper-slide">
            <div class="swiper-bg">
              <img src="images/list5.png" alt="" />
              <!-- <span>- 冷色沙发 -</span> -->
            </div>
          </div>

          <div class="swiper-slide">
            <div class="swiper-bg">
              <img src="images/list6.png" alt="" />
              <!-- <span>- 躺椅沙发 -</span> -->
            </div>
          </div>

          <div class="swiper-slide">
            <div class="swiper-bg">
              <img src="images/list7.png" alt="" />
              <!-- <span>- 包浆沙发 -</span> -->
            </div>
          </div>

          <div class="swiper-slide">
            <div class="swiper-bg">
              <img src="images/list8.png" alt="" />
              <!-- <span>- 松软沙发 -</span> -->
            </div>
          </div>
        </div>
        <div class="swiper-button-prev"></div>
        <!--左箭头-->
        <div class="swiper-button-next"></div>
        <!--右箭头-->
      </div>

    </div>
  </div>
  <script src="js/swiper.min.js"></script>
  <!-- <script>
    var pagesize = 4; //每页数据条数
    var page = 2;
    var maxpage;
    $('#more').hide();

    function ajaxpage(page) {
      // $("#more").show();
      arr=[1,2,3,4]
      for (var i = 0; i < arr.length; i++) {
          $(".classicCasePages-list").append(
            `
          <div class="classicCasePages-item">
            <img src="images/list1.png" alt="" />
            <div>- 精品室内 -</div>
          </div>`
        );
       
        var maxpage = Math.ceil(10 / pagesize);
        console.log(maxpage);
        sessionStorage['maxpage'] = maxpage;
      }

      // $.ajax({
      //   type: "POST",
      //   url: 'page.php',
      //   data: {
      //     "page": page,
      //     "pagesize": pagesize,
      //      ajax: 2
      //   },
      //   dataType: "json",
      //   beforeSend: function () {
      //     $("#more").show();
      //   },
      //   success: function (rs) {
      //     console.log(rs);
      //     $("#rank-list").append(tpl(document.getElementById('tpl').innerHTML, rs));
      //     var maxpage = Math.ceil(rs.total / pagesize);
      //     sessionStorage['maxpage'] = maxpage;
      //   },
      //   timeout: 15000
      // });
    }
    $(window).scroll(
      function () {
        var scrollTop = $(this).scrollTop();
        var scrollHeight = $(document).height();
        var windowHeight = $(this).height();
        if (scrollTop + windowHeight == scrollHeight) {
          maxpage = sessionStorage['maxpage'];
          if (page <= maxpage) {
            ajaxpage(page);
            page++;
            console.log(page);
            console.log(maxpage);
            if (page == maxpage) {
                alert('没有了');
              $("#more").html("没有更多数据了");
              return false;
            }
          }
        }
      });
      // 初始化内容
    $(function () {
      ajaxpage(1);
    })
  </script> -->

  <script>
    // 图片轮播
    var swiper = new Swiper('.swiper-container', {
      pagination: '.swiper-pagination',
      paginationClickable: true,
      nextButton: '.swiper-button-next',
      prevButton: '.swiper-button-prev',
      parallax: true,
      speed: 600,
      observer: true, //调完接口不能翻页解决方法，修改swiper自己或子元素时，自动初始化swiper
      observeParents: true, //调完接口不能翻页解决方法，修改swiper的父元素时，自动初始化swiper
      onSlideNextEnd: function (swiper) {
        // sow()
      },
      onSlidePrevEnd: function (swiper) {
        // sow()
      }
    });
    var page;

    function ajaxFun() {
      if (page !== 0) {
        for (var i = 0; i < 4; i++) {
          $(".classicCasePages-list").append(
            `
          <div class="classicCasePages-item">
            <img src="images/list1.png" alt="" />
            <div>- 我是加载的 -</div>
          </div>`
          );
        }
      }
    }

    $(window).scroll(
      function () {
        console.log('滑动');
        var scrollTop = $(this).scrollTop();
        var scrollHeight = $(document).height();
        var windowHeight = $(this).height();
        if (scrollTop + windowHeight == scrollHeight) {
          // 
          $('.more').html('正在加载');

          ajaxFun()

          page = 0;
          $('.more').html('没有更多了');
          // maxpage = sessionStorage['maxpage'];
          // if (page <= maxpage) {
          //   ajaxpage(page);
          //   page++;
          //   console.log(page);
          //   console.log(maxpage);
          //   if (page == maxpage) {
          //       alert('没有了');
          //     $("#more").html("没有更多数据了");
          //     return false;
          //   }
          // }
        }
      });
  </script>
</body>

</html>